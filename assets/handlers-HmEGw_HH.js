import{i as T,a as L}from"./vendor-4yCzdkXl.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();const H="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.81%200.219C6.95056%200.0787966%207.14097%204.21785e-05%207.3395%200L16.6605%200C16.859%204.21785e-05%2017.0494%200.0787966%2017.19%200.219L23.781%206.81C23.9212%206.95056%2024%207.14097%2024%207.3395V16.6605C24%2016.859%2023.9212%2017.0494%2023.781%2017.19L17.19%2023.781C17.0494%2023.9212%2016.859%2024%2016.6605%2024H7.3395C7.14097%2024%206.95056%2023.9212%206.81%2023.781L0.219%2017.19C0.0787966%2017.0494%204.21785e-05%2016.859%200%2016.6605L0%207.3395C4.21785e-05%207.14097%200.0787966%206.95056%200.219%206.81L6.81%200.219ZM7.65%201.5L1.5%207.65V16.35L7.65%2022.5H16.35L22.5%2016.35V7.65L16.35%201.5H7.65Z'%20fill='%23FAFAFB'/%3e%3cpath%20d='M6.969%206.96912C7.03867%206.89927%207.12143%206.84386%207.21255%206.80605C7.30366%206.76824%207.40135%206.74878%207.5%206.74878C7.59865%206.74878%207.69633%206.76824%207.78745%206.80605C7.87857%206.84386%207.96133%206.89927%208.031%206.96912L12%2010.9396L15.969%206.96912C16.0387%206.89939%2016.1215%206.84407%2016.2126%206.80633C16.3037%206.7686%2016.4014%206.74917%2016.5%206.74917C16.5986%206.74917%2016.6963%206.7686%2016.7874%206.80633C16.8785%206.84407%2016.9613%206.89939%2017.031%206.96912C17.1007%207.03885%2017.156%207.12164%2017.1938%207.21274C17.2315%207.30385%2017.2509%207.4015%2017.2509%207.50012C17.2509%207.59874%2017.2315%207.69639%2017.1938%207.7875C17.156%207.8786%2017.1007%207.96139%2017.031%208.03112L13.0605%2012.0001L17.031%2015.9691C17.1007%2016.0389%2017.156%2016.1216%2017.1938%2016.2127C17.2315%2016.3039%2017.2509%2016.4015%2017.2509%2016.5001C17.2509%2016.5987%2017.2315%2016.6964%2017.1938%2016.7875C17.156%2016.8786%2017.1007%2016.9614%2017.031%2017.0311C16.9613%2017.1009%2016.8785%2017.1562%2016.7874%2017.1939C16.6963%2017.2316%2016.5986%2017.2511%2016.5%2017.2511C16.4014%2017.2511%2016.3037%2017.2316%2016.2126%2017.1939C16.1215%2017.1562%2016.0387%2017.1009%2015.969%2017.0311L12%2013.0606L8.031%2017.0311C7.96127%2017.1009%207.87848%2017.1562%207.78737%2017.1939C7.69626%2017.2316%207.59861%2017.2511%207.5%2017.2511C7.40138%2017.2511%207.30373%2017.2316%207.21262%2017.1939C7.12151%2017.1562%207.03873%2017.1009%206.969%2017.0311C6.89927%2016.9614%206.84395%2016.8786%206.80621%2016.7875C6.76847%2016.6964%206.74905%2016.5987%206.74905%2016.5001C6.74905%2016.4015%206.76847%2016.3039%206.80621%2016.2127C6.84395%2016.1216%206.89927%2016.0389%206.969%2015.9691L10.9395%2012.0001L6.969%208.03112C6.89915%207.96145%206.84374%207.87869%206.80593%207.78757C6.76812%207.69645%206.74866%207.59877%206.74866%207.50012C6.74866%207.40147%206.76812%207.30379%206.80593%207.21267C6.84374%207.12155%206.89915%207.03879%206.969%206.96912Z'%20fill='%23FAFAFB'/%3e%3c/svg%3e";function V(t){return T.success({message:t,messageColor:"#fff",messageSize:"16",messageLineHeight:"24",backgroundColor:"#59a10d",position:"topRight",progressBarColor:"#b5ea7c",theme:"dark"})}function i(t){return T.error({message:t,messageColor:"#fff",messageSize:"16",messageLineHeight:"24",backgroundColor:"#ef4040",iconUrl:H,position:"topRight",progressBarColor:"#b51b1b",theme:"dark"})}function j(t){return T.info({message:t,messageColor:"#fff",messageSize:"16",messageLineHeight:"24",backgroundColor:"#09f",position:"topRight",progressBarColor:"#b8e3ff",theme:"dark"})}const o={body:document.querySelector("body"),categoriesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),divNotFound:document.querySelector(".not-found"),loadMoreBtn:document.querySelector(".load-more-btn"),searchForm:document.querySelector(".search-form"),formBtnClearValue:document.querySelector(".search-form__btn-clear"),modal:document.querySelector(".modal"),modalProduct:document.querySelector(".modal-product"),modalCloseBtn:document.querySelector(".modal__close-btn"),modalWishlistBtn:document.querySelector(".modal-product__btn--wishlist"),modalCartBtn:document.querySelector(".modal-product__btn--cart"),navCountWishlist:document.querySelector("[data-wishlist-count]"),navCountCart:document.querySelector("[data-cart-count]"),sidebarCountCart:document.querySelector("[data-count]"),sidebarPriceCart:document.querySelector("[data-price]"),buyProductsBtn:document.querySelector(".cart-summary__btn"),loader:document.querySelector(".loader"),scrollTopBtn:document.querySelector(".scroll-top-btn"),themeToggleBtn:document.querySelector(".theme-toggle-btn")};function z(t){const e=document.querySelectorAll(".categories__btn");Array.from(e).forEach(s=>{s.classList.remove(`${t}`)})}function f(){o.loadMoreBtn.classList.remove("is-hidden")}function w(){o.loadMoreBtn.classList.add("is-hidden")}function x(t,e){t<=12*e&&j("Last page")}function g(){o.loader.classList.add("is-visible")}function u(){o.loader.classList.remove("is-visible")}function k(){window.scrollTo({top:0,behavior:"smooth"})}function A(){(localStorage.getItem("theme")||"")!==""&&o.body.classList.add("dark-theme")}function m(t){const e=t.map(({id:s,thumbnail:d,title:r,brand:a,category:h,price:$})=>`
    <li class="products__item" data-id="${s}">
    <img class="products__image" src="${d}" alt="${r}"/>
    <p class="products__title">${r}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${a}</p>
    <p class="products__category">Category: ${h}</p>
    <p class="products__price">Price: $${$}</p>
 </li>
 `).join("");o.productsList.insertAdjacentHTML("beforeend",e)}function J(t){const e=t.map(s=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${s}</button>
 </li>
    `).join("");o.categoriesList.insertAdjacentHTML("beforeend",e)}function C(){o.productsList.innerHTML=""}function Y({id:t,thumbnail:e,title:s,tags:d,description:r,shippingInformation:a,returnPolicy:h,price:$}){const R=`
    <img class="modal-product__img" src="${e}" alt="${s}" data-id="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${s}</p >
        <ul class="modal-product__tags">${d.join(", ")}</ul>
        <p class="modal-product__description">${r}</p>
        <p class="modal-product__shipping-information">Shipping: ${a}</p>
        <p class="modal-product__return-policy">Return Policy: ${h}</p>
        <p class="modal-product__price">Price: $${$}</p>
        <button class="modal-product__buy-btn modal-product__btn" type="button">Buy</button>
      </div >
    `;o.modalProduct.innerHTML=R}const l=JSON.parse(localStorage.getItem("wishlist"))||[],c=JSON.parse(localStorage.getItem("cart"))||[];function G(t){if(l.includes(t)){const e=l.indexOf(t);l.splice(e,1),localStorage.setItem("wishlist",JSON.stringify(l)),o.modalWishlistBtn.textContent="Add to Wishlist",o.navCountWishlist.textContent=l.length,_&&(C(),N());return}l.push(t),o.modalWishlistBtn.textContent="Remove from Wishlist",o.navCountWishlist.textContent=l.length,localStorage.setItem("wishlist",JSON.stringify(l)),_&&(C(),N())}function U(t){if(c.includes(t)){const e=c.indexOf(t);c.splice(e,1),localStorage.setItem("cart",JSON.stringify(c)),o.modalCartBtn.textContent="Add to cart",o.navCountCart.textContent=c.length,S&&(C(),O());return}c.push(t),o.modalCartBtn.textContent="Remove from Cart",o.navCountCart.textContent=c.length,localStorage.setItem("cart",JSON.stringify(c)),S&&(C(),O())}function I(t){t==="add"?localStorage.setItem("theme","dark"):localStorage.removeItem("theme")}function Z(){o.modal.classList.remove("modal--is-open")}function D(t){K(t),Q(t),o.modal.classList.add("modal--is-open")}function K(t){l.includes(t)?o.modalWishlistBtn.textContent="Remove from Wishlist":o.modalWishlistBtn.textContent="Add to Wishlist"}function Q(t){c.includes(t)?o.modalCartBtn.textContent="Remove from Cart":o.modalCartBtn.textContent="Add to cart"}const X="https://dummyjson.com/products",q={CATEGORIES:"/category-list",CATEGORY:"/category",SEARCH:"/search"},y=12;L.defaults.baseURL=X;async function tt(){return(await L(`${q.CATEGORIES}`)).data}async function P(t){const e=(t-1)*y,{data:s}=await L(`?limit=${y}&skip=${e}`);return s}async function F(t,e){const s=(e-1)*y,{data:d}=await L(`${q.CATEGORY}/${t}?limit=${y}&skip=${s}`);return d}async function E(t){return(await L(`/${t}`)).data}async function M(t,e){const s=(e-1)*y;return(await L(`${q.SEARCH}?q=${t}&limit=${y}&skip=${s}`)).data}let n=1,p="all",W=!1,v=null,b=null,_=!1,S=!1,B=!0;async function at(){_=!1,S=!1,A(),g(),o.navCountWishlist.textContent=l.length,o.navCountCart.textContent=c.length;try{const t=["all",...await tt()];J(t)}catch(t){i(t.message)}try{const{products:t,total:e}=await P(n);m(t),e>12&&f()}catch(t){i(t.message)}u()}async function N(){_=!0,S=!1,A(),g(),o.divNotFound.classList.remove("not-found--visible"),o.navCountWishlist.textContent=l.length,o.navCountCart.textContent=c.length;try{const t=l.map(async e=>await E(e));await Promise.all(t).then(e=>{if(m(e),e.length===0){o.divNotFound.classList.add("not-found--visible");return}}).catch(e=>i(e.message))}catch(t){i(t.message)}finally{u()}}async function O(){_=!1,S=!0,A(),g(),o.divNotFound.classList.remove("not-found--visible"),o.navCountWishlist.textContent=l.length,o.navCountCart.textContent=c.length,o.sidebarCountCart.textContent=c.length;try{const t=c.map(async e=>await E(e));await Promise.all(t).then(e=>{m(e);const d=e.reduce((r,a)=>r+Math.round(a.price*100),0)/100;if(o.sidebarPriceCart.textContent=`$ ${d}`,e.length===0){o.divNotFound.classList.add("not-found--visible");return}}).catch(e=>{i(e.message)})}catch(t){i(t.message)}finally{u()}}async function nt(t){if(n=1,W=!1,t.target.tagName==="BUTTON"){if(C(),w(),o.divNotFound.classList.remove("not-found--visible"),z("categories__btn--active"),t.target.classList.add("categories__btn--active"),g(),p=t.target.textContent,p==="all"){try{const{products:e,total:s}=await P(n);m(e),s>12&&f()}catch(e){i(e.message)}finally{u()}return}try{const{products:e,total:s}=await F(p,n);if(s===0){o.divNotFound.classList.add("not-found--visible");return}m(e),s>12&&f()}catch(e){i(e.message)}finally{u()}}}async function it(){if(g(),n++,w(),p==="all"){try{const{products:t,total:e}=await P(n);m(t),e>12*n&&f(),x(e,n)}catch(t){i(t.message)}finally{u()}return}if(W){try{const{products:t,total:e}=await M(v,n);m(t),e>12*n&&f(),x(e,n)}catch(t){i(t.message)}finally{u()}return}try{const{products:t,total:e}=await F(p,n);m(t),e>12*n&&f(),x(e,n)}catch(t){i(t.message)}finally{u()}}async function ct(t){if(t.target.closest(".products__item")){g(),b=t.target.closest(".products__item").dataset.id;try{const e=await E(b);Y(e),D(b),document.querySelector(".modal-product__buy-btn").addEventListener("click",st),o.modalCloseBtn.addEventListener("click",Z),o.modalWishlistBtn.addEventListener("click",et),o.modalCartBtn.addEventListener("click",ot)}catch(e){i(e.message)}finally{u()}}}async function lt(t){if(t.preventDefault(),v=t.target.elements.searchValue.value.trim().toLowerCase(),p=v,!v){i("You didn't enter anything in the search field");return}n=1,C(),w(),o.divNotFound.classList.remove("not-found--visible"),g();try{const{products:e,total:s}=await M(v,n);if(s===0){o.divNotFound.classList.add("not-found--visible");return}m(e),s>12&&(W=!0,f())}catch(e){i(e.message)}finally{u()}}async function dt(){o.searchForm.elements.searchValue.value="",C(),w(),g();try{const{products:t,total:e}=await P(n);m(t),e>12&&f()}catch(t){i(t.message)}finally{u()}}function et(){G(b)}function ot(){U(b)}function st(){V("You have successfully made a purchase")}function ut(){window.scrollY>400&&B===!0?(B=!1,o.scrollTopBtn.classList.add("scroll-top-btn--visible"),o.scrollTopBtn.addEventListener("click",k)):window.scrollY<400&&B===!1&&(B=!0,o.scrollTopBtn.removeEventListener("click",k),o.scrollTopBtn.classList.remove("scroll-top-btn--visible"))}function mt(){(localStorage.getItem("theme")||"")===""?(I("add"),o.body.classList.add("dark-theme")):(I("remove"),o.body.classList.remove("dark-theme"))}export{mt as a,ut as b,A as c,at as d,nt as e,it as f,lt as g,ct as h,N as i,dt as j,O as k,st as l,o as r};
//# sourceMappingURL=handlers-HmEGw_HH.js.map
